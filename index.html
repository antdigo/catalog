<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Title</title>
    <link rel="stylesheet" href="https://npmcdn.com/flickity@1.2/dist/flickity.min.css">
    <style>
        @font-face {
            font-family: 'icomoon';
            src: url('rouble.ttf?h1sx58') format('truetype');
            font-weight: normal;
            font-style: normal;
        }

        .back {
            background: #fff !important
        }

        .container {
            max-width: 480px;
            margin: auto;
        }

        .product-card {
            border-radius: 4px !important;
            -webkit-box-shadow: 0 1px 7px rgba(0, 0, 0, .05);
            box-shadow: 0 1px 7px rgba(0, 0, 0, .05);
            border: 1px solid rgba(0, 0, 0, .06) !important;
            background: #fff !important;
            padding: 0;
            font-family: 'Roboto', sans-serif;
            line-height: 1.33333;

            display: -webkit-box;

            display: -webkit-flex;

            display: -ms-flexbox;

            display: flex;
            margin-bottom: 10px;
            overflow: hidden;
        }

        .product-card__image {
            -webkit-box-sizing: border-box;
            box-sizing: border-box;
            width: 120px;
            padding: 10px;
            display: -webkit-box;
            display: -webkit-flex;
            display: -ms-flexbox;
            display: flex;
            -webkit-box-flex: 0;
            -webkit-flex: 0 0 120px;
            -ms-flex: 0 0 120px;
            flex: 0 0 120px;
        }

        .product-card__image_borderless {
            padding: 0;
        }

        .product-card__image svg {
            display: block;
            width: 100%;
            height: 100%;
        }

        .product-card__image-bg {
            width: 100%;
            /*padding: 0 0 75%;*/
            margin: auto;
            /*background-size: cover;*/
            /*background-position: 50% 50%;*/
            /*background-repeat: no-repeat;*/
        }

        .product-card__content {
            display: -webkit-box;
            display: -webkit-flex;
            display: -ms-flexbox;
            display: flex;
            -webkit-box-flex: 1;
            -webkit-flex: 1 1;
            -ms-flex: 1 1;
            flex: 1 1;
        }

        .product-card__content-container {
            margin: auto 0;
            padding: 10px 10px 10px 15px;
        }

        .product-card__title {
            color: #8c9a9c;
            font-size: 14px;
        }

        .product-card__type {
            color: #b0c6ca;
            font-size: 12px;
            font-weight: 300;
            margin: 0.41666667em 0 0.33333333em;
        }

        .product-card__price {
            color: #6a7679;
            font-size: 18px;
            position: relative;
            display: inline-block;
            white-space: nowrap;
            padding-right: .85em;
        }

        .product-card__price:after {
            content: "\e900";
            font-family: 'icomoon' !important;
            speak: none;
            font-style: normal;
            font-weight: normal;
            font-variant: normal;
            text-transform: none;
            line-height: 1.4;
            font-size: 0.94444444em;

            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;

            position: absolute;
            right: 0;
            width: .85em;
            height: 100%;
            text-indent: 0;
            text-align: right;
        }

        .category-slider {
            font-size: 14px;
            font-weight: 300;
            line-height: 1;
            /*font-weight: 700;*/
            /*text-transform: uppercase;*/
            /*text-transform: lowercase;*/
            color: #6a7679;
            position: relative;
            padding: 10px 0;
        }

        .category-slider:before,
        .category-slider:after {
            content: "";
            position: absolute;
            width: 50px;
            top: 0;
            bottom: 0;
            z-index: 1;
        }

        .category-slider:before {
            left: 0;
            background: -webkit-linear-gradient(left, #fff, transparent); /*Safari 5.1-6*/
            background: -o-linear-gradient(left, #fff, transparent); /*Opera 11.1-12*/
            background: -moz-linear-gradient(left, #fff, transparent); /*Fx 3.6-15*/
            background: linear-gradient(to right, #fff, transparent); /*Standard*/
        }

        .category-slider:after {
            right: 0;

            background: -webkit-linear-gradient(right, #fff, transparent); /*Safari 5.1-6*/
            background: -o-linear-gradient(right, #fff, transparent); /*Opera 11.1-12*/
            background: -moz-linear-gradient(right, #fff, transparent); /*Fx 3.6-15*/
            background: linear-gradient(to left, #fff, transparent); /*Standard*/
        }

        .category-slider__item {
            padding: 5px 10px;
            white-space: nowrap;
        }
    </style>
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400" rel="stylesheet">
    <link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
</head>
<body class="back" style="padding:0;margin:0;font-family: 'Roboto', sans-serif;">
<div style="border-bottom:1px solid #d9d9d9;">
    <div class="container">
        <div style="text-transform:uppercase;font-size:12px;font-weight:400;padding:10px 5px 0px;margin:0;text-align:center;color:#b0c6ca;">Популярное&nbsp;<i class="fa fa-angle-down" aria-hidden="true"></i></div>
        <div class="category-slider">
            <div class="category-slider__item">Прямые диваны</div>
            <div class="category-slider__item">Угловые диваны</div>
            <div class="category-slider__item">Модульные диваны</div>
            <div class="category-slider__item">Распродажа диванов</div>
            <div class="category-slider__item">Кресла</div>
            <div class="category-slider__item">Пуфы</div>
            <div class="category-slider__item">Домашний текстиль</div>
        </div>
    </div>
</div>
<div class="container" style="padding:15px 15px;">
    <div class="product-card">
        <div class="product-card__image">
            <div class="product-card__image-bg" data-image="img/200x150_ffffff_100_0_2018060411154310800_0.jpg"></div>

        </div>
        <div class="product-card__content">
            <div class="product-card__content-container">
                <div class="product-card__title">Белфаст Velvet Yellow</div>
                <div class="product-card__type">Диван</div>
                <div class="product-card__price">28 990</div>
            </div>
        </div>
    </div>

    <div class="product-card">
        <div class="product-card__image">
            <div class="product-card__image-bg" data-image="img/200x150_ffffff_100_0_2016072915590210800_0.jpg"></div>

        </div>
        <div class="product-card__content">
            <div class="product-card__content-container">
                <div class="product-card__title">Лени Velvet Light</div>
                <div class="product-card__type">Диван</div>
                <div class="product-card__price">15 990</div>
            </div>
        </div>
    </div>

    <div class="product-card">
        <div class="product-card__image">
            <div class="product-card__image-bg" data-image="img/200x150_ffffff_100_0_2018062009295910800_0.jpg"></div>

        </div>
        <div class="product-card__content">
            <div class="product-card__content-container">
                <div class="product-card__title">Нордик Sherst Grafit</div>
                <div class="product-card__type">Диван</div>
                <div class="product-card__price">37 990</div>
            </div>
        </div>
    </div>


    <div class="product-card">
        <div class="product-card__image">
            <div class="product-card__image-bg" data-image="img/200x150_ffffff_100_0_2018060409430010800_0.jpg"></div>

        </div>
        <div class="product-card__content">
            <div class="product-card__content-container">
                <div class="product-card__title">Тиволи Ocean</div>
                <div class="product-card__type">Диван</div>
                <div class="product-card__price">33 990</div>
            </div>
        </div>
    </div>


    <div class="product-card">
        <div class="product-card__image">
            <div class="product-card__image-bg" data-image="img/200x150_ffffff_100_0_2016080917070310800_0.jpg"></div>

        </div>
        <div class="product-card__content">
            <div class="product-card__content-container">
                <div class="product-card__title">Порту Textile Grey</div>
                <div class="product-card__type">Диван</div>
                <div class="product-card__price">14 990</div>
            </div>
        </div>
    </div>

    <div class="product-card">
        <div class="product-card__image">
            <div class="product-card__image-bg" data-image="img/200x150_ffffff_100_0_2016051309412310800_0.jpg"></div>

        </div>
        <div class="product-card__content">
            <div class="product-card__content-container">
                <div class="product-card__title">Сан-Паулу Velvet Yellow</div>
                <div class="product-card__type">Диван</div>
                <div class="product-card__price">14 990</div>
            </div>
        </div>
    </div>

    <div class="product-card">
        <div class="product-card__image product-card__image_borderless">
            <div class="product-card__image-bg" data-image="img/200x150_ffffff_100_0_2017110216120610800_0.jpg"></div>

        </div>
        <div class="product-card__content">
            <div class="product-card__content-container">
                <div class="product-card__title">Венера</div>
                <div class="product-card__type">Стенка</div>
                <div class="product-card__price">13 999</div>
            </div>
        </div>
    </div>

    <div class="product-card">
        <div class="product-card__image product-card__image_borderless">
            <div class="product-card__image-bg" data-image="img/200x150_ffffff_100_0_2018011509355910800_0.jpg"></div>

        </div>
        <div class="product-card__content">
            <div class="product-card__content-container">
                <div class="product-card__title">Лофт Дуб Табачный</div>
                <div class="product-card__type">Модульная стенка</div>
                <div class="product-card__price">76 160</div>
            </div>
        </div>
    </div>

    <div class="product-card">
        <div class="product-card__image product-card__image_borderless">
            <div class="product-card__image-bg" data-image="img/200x150_ffffff_100_0_2018062013544510800_0.jpg"></div>

        </div>
        <div class="product-card__content">
            <div class="product-card__content-container">
                <div class="product-card__title">Купертино Snow</div>
                <div class="product-card__type">Стенка</div>
                <div class="product-card__price">16 990</div>
            </div>
        </div>
    </div>


    <div class="product-card">
        <div class="product-card__image product-card__image_borderless">
            <div class="product-card__image-bg" data-image="img/200x150_ffffff_100_0_2018060715142210800_0.jpg"></div>

        </div>
        <div class="product-card__content">
            <div class="product-card__content-container">
                <div class="product-card__title">Мэдисон</div>
                <div class="product-card__type">Модульная гостиная</div>
                <div class="product-card__price">65 970</div>
            </div>
        </div>
    </div>

    <div class="product-card">
        <div class="product-card__image">
            <div class="product-card__image-bg" data-image="img/200x150_ffffff_100_0_2016011417473110800_0.jpg"></div>

        </div>
        <div class="product-card__content">
            <div class="product-card__content-container">
                <div class="product-card__title">Эконом-100-240 Комби с зеркалом 2 двери</div>
                <div class="product-card__type">Шкаф-купе</div>
                <div class="product-card__price">10 730</div>
            </div>
        </div>
    </div>

    <div class="product-card">
        <div class="product-card__image">
            <div class="product-card__image-bg" data-image="img/200x150_ffffff_100_0_2018041713083910800_0.jpg"></div>

        </div>
        <div class="product-card__content">
            <div class="product-card__content-container">
                <div class="product-card__title">Концепт Sun Brilliant</div>
                <div class="product-card__type">Шкаф-купе</div>
                <div class="product-card__price">14 990</div>
            </div>
        </div>
    </div>

    <div class="product-card">
        <div class="product-card__image">
            <div class="product-card__image-bg" data-image="img/200x150_ffffff_100_0_2017031716243610800_0.jpeg"></div>

        </div>
        <div class="product-card__content">
            <div class="product-card__content-container">
                <div class="product-card__title">Лючия-4</div>
                <div class="product-card__type">Угловой шкаф</div>
                <div class="product-card__price">12 999</div>
            </div>
        </div>
    </div>

    <div class="product-card">
        <div class="product-card__image">
            <div class="product-card__image-bg" data-image="img/200x150_ffffff_100_0_2016011511140410800_0.jpg"></div>

        </div>
        <div class="product-card__content">
            <div class="product-card__content-container">
                <div class="product-card__title">Байкал-45-8 Венге</div>
                <div class="product-card__type">Угловой шкаф</div>
                <div class="product-card__price">35 270</div>
            </div>
        </div>
    </div>
</div>
<script src="https://npmcdn.com/flickity@1.2/dist/flickity.pkgd.min.js"></script>
<script>
  var imageBGs = document.querySelectorAll('.product-card__image-bg');

  var averageColorCanvas = document.createElement('canvas');
  averageColorCanvas.height = averageColorCanvas.width = 1;

  var aCtx = averageColorCanvas.getContext && averageColorCanvas.getContext('2d');

  Array.prototype.forEach.call(imageBGs, function(item) {
    getImage(item, item.getAttribute('data-image'));
  });

  function getImage(el, url) {
    var image = new Image();

    image.onload = function() {
      aCtx.drawImage(image, 0, 0, 1, 1);

      var data = aCtx.getImageData(0, 0, 1, 1);
      var rgb = data.data;

      rgb = rgba2rgb(rgb[0], rgb[1], rgb[2], 0.15);

      el.parentNode.style.backgroundColor = 'rgb(' + rgb[0] + ',' + rgb[1] + ',' + rgb[2] + ')';
      el.innerHTML = svg(url, '#' + ((1 << 24) + (rgb[0] << 16) + (rgb[1] << 8) + rgb[2]).toString(16).slice(1));
      aCtx.clearRect(0, 0, averageColorCanvas.width, averageColorCanvas.height);
    };
    image.src = url;
  }

  function rgba2rgb(red, green, blue, alpha) {
    return [
      Math.max(Math.min(Math.round((1 - alpha) * 255 + alpha * red), 255), 0),
      Math.max(Math.min(Math.round((1 - alpha) * 255 + alpha * green), 255), 0),
      Math.max(Math.min(Math.round((1 - alpha) * 255 + alpha * blue), 255), 0),
    ];
  }

  function svg(image, color) {
    return '<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 200 150"><defs><filter id="' + color.substr(1) + '"><feFlood result="fill" x="0" y="0" width="100%" height="100%" flood-color="' + color + '" flood-opacity="1"/><feBlend mode="multiply" in="SourceGraphic" in2="fill"/></filter></defs><image xlink:href="' + image + '" x="0" y="0" width="100%" height="100%" style="filter:url(' + color + ');"/></svg>';
  }
</script>
<script>
  var elem = document.querySelector('.category-slider');
  var flkty = new Flickity(elem, {
    // options
    wrapAround: true,
    pageDots: false,
    prevNextButtons: false,
    freeScroll: true
  });
</script>
</body>
</html>